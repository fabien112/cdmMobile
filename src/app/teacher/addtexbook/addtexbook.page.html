<ion-header>
  <ion-toolbar color="primary">
    <ion-title> Nouveau cahier  </ion-title>
    <ion-buttons slot="end">
      <ion-button color="light" (click)="close()">
        <ion-icon slot="icon-only" name="close"></ion-icon>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>
<ion-content>

  <br>

  <ion-item>
    <ion-label position="floating">    </ion-label>

    <ion-label>Durée du cour en heure : </ion-label>

    <ion-input placeholder=" " [(ngModel)]="dat['duree']" type="number"> </ion-input>

  </ion-item>

  <!--<ion-item>-->
  <!--<ion-label>Mois</ion-label>-->
  <!--<ion-select  okText="Ok" cancelText="Annuler" [(ngModel)]="dat['idMois']" interface="popover" (ionChange)="charger()">-->
  <!--<ion-select-option value={{m.id}} *ngFor="let m of Mois" >-->
  <!--{{m.nom}}-->
  <!--</ion-select-option>-->
  <!--</ion-select>-->
  <!--</ion-item>-->


  <ion-item>
    <ion-label>Classe</ion-label>
    <ion-select  okText="Ok" cancelText="Annuler" [(ngModel)]="dat['idClasse']"  (ionChange)="charger()">
      <ion-select-option value={{m.classe.id}} *ngFor="let m of classes" >
        {{m.classe.libelleClasse}}
      </ion-select-option>
    </ion-select>
  </ion-item>

  <ion-item>
    <ion-label>Matière</ion-label>
    <ion-select  okText="Ok" cancelText="Annuler"  [(ngModel)]="dat['matiere']" (ionChange)="chargerchapitre()">
      <ion-select-option value={{m.id}} *ngFor="let m of maiteres" >
        {{m.libelle}}
      </ion-select-option>
    </ion-select>
  </ion-item>



  <ion-item-divider color="primary">
    <ion-label> Parametrez le cour  </ion-label>
  </ion-item-divider>
  <br>

  <ion-list >

    <ion-item >

      <ion-label> Choisir le chapitre   </ion-label>

      <ion-select  okText="Ok" cancelText="Annuler" interface="popover" [(ngModel)]="dat['chapitre']" (ionChange)="chargerpartie()">
        <ion-select-option value={{m.id}} *ngFor="let m of chapitres" >
          {{m.chapitre}}
        </ion-select-option>
      </ion-select>

    </ion-item>

  </ion-list>

  <ion-card>

    <ion-list *ngFor="let input of dat.inputs2  let k = index;">

      <ion-item  >

        <ion-label> Partie {{ k + 1 }} </ion-label>

        <ion-select  okText="Ok" cancelText="Annuler" interface="popover" [(ngModel)]="input.partie">
          <ion-select-option value={{m.id}} *ngFor="let m of parties" >
            {{m.libelle}}
          </ion-select-option>
        </ion-select>

      </ion-item>

      <ion-item >

        <ion-textarea placeholder=" 1. sp1# 2.sp2# 3.sp3# " [(ngModel)]="input.souspartie"></ion-textarea>

        <ion-icon item-end slot="end"  style="font-size:25px;color:red;text-align: center"  (click)="remove2( k)" *ngIf=" k ||(!k && dat.inputs2.length >1)" name="remove-circle-outline"></ion-icon>
        <ion-icon item-end  slot="end"   style="font-size:25px;color:green;text-align: center" (click)="add2( k)" *ngIf="  k == dat.inputs2 .length - 1 " name="add-circle-outline"></ion-icon>

      </ion-item>

    </ion-list>

  </ion-card>



  <br>

  <ion-button  color="primary"    expand="full" (click)="Valider()" [disabled]="dat.matiere==''||dat.classeName==''||dat.chapitre==''||dat.duree==''">

    Enregistrer

  </ion-button>


</ion-content>
